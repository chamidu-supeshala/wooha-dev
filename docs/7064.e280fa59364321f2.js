"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7064],{184:(U,B,i)=>{i.d(B,{b:()=>$});var _=i(467),t=i(177),y=i(5933),e=i(3207),D=i(8705),O=i(7456),w=i(6007),T=i(5643),I=i(4639),c=i(4438),G=i(9176),x=i(3303),u=i(6529),g=i(375);const E=["swiper"];function L(M,F){if(1&M&&c.nrm(0,"app-product-card",6),2&M){const k=c.XpG().$implicit;c.Y8G("product",k)}}function A(M,F){1&M&&c.DNE(0,L,1,1,"ng-template",5)}function N(M,F){if(1&M){const k=c.RV6();c.j41(0,"swiper",3,0),c.bIt("mouseenter",function(){c.eBV(k);const v=c.sdS(1);return c.Njj(null==v||null==v.swiperRef||null==v.swiperRef.autoplay?null:v.swiperRef.autoplay.stop())})("mouseleave",function(){c.eBV(k);const v=c.sdS(1);return c.Njj(null==v||null==v.swiperRef||null==v.swiperRef.autoplay?null:v.swiperRef.autoplay.start())}),c.DNE(2,A,1,0,null,4),c.k0s()}if(2&M){const k=c.XpG().ngLet,h=c.XpG();c.AVh("bidding-mode",k),c.Y8G("config",h.slideOpts),c.R7$(2),c.Y8G("ngForOf",h.products)("ngForTrackBy",h.trackByFn)}}function H(M,F){if(1&M&&(c.qex(0),c.DNE(1,N,3,5,"swiper",2),c.bVm()),2&M){const k=c.XpG();c.R7$(),c.Y8G("ngIf",k.products)}}let $=(()=>{var M;class F extends T.${constructor(h,v,a,P,p){super(),this.productService=h,this.userService=v,this.biddingService=a,this.cdr=P,this.ngZone=p,this.params={},this.bidParams={},this.biddingProductsSortOrder=0,this.slideOpts={slidesPerView:"auto",loop:!0,watchSlidesProgress:!0,autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}},this.isBiddingMode=this.biddingService.isBiddingMode$.getValue()}trackByFn(h,v){return v.id}ngOnInit(){var h=this;return(0,_.A)(function*(){var v;yield h.fetchProductData(),h.slideOpts={...h.slideOpts,loopedSlides:(null===(v=h.products)||void 0===v?void 0:v.length)||0},D.A.isBrowser&&h.ngZone.runOutsideAngular(()=>{setTimeout(()=>{var a;null===(a=h.featuredSwiper)||void 0===a||null===(a=a.swiperRef)||void 0===a||null===(a=a.autoplay)||void 0===a||a.start()},100)}),h.cdr.markForCheck()})()}ngOnDestroy(){super.ngOnDestroy()}fetchProductData(){var h=this;return(0,_.A)(function*(){const v=yield(0,e.s)(h.productService.getProductsByMetaParamsV2({...h.params}));h.products=v.rows})()}fetchBiddingProductData(){var h=this;return(0,_.A)(function*(){const v=yield(0,e.s)(h.biddingService.getProductsWithPoolInfo({...h.bidParams}));h.products=v.rows})()}}return(M=F).\u0275fac=function(h){return new(h||M)(c.rXU(G.g),c.rXU(x.R),c.rXU(x.R),c.rXU(c.gRc),c.rXU(c.SKi))},M.\u0275cmp=c.VBU({type:M,selectors:[["app-product-slides"]],viewQuery:function(h,v){if(1&h&&c.GBs(E,5),2&h){let a;c.mGM(a=c.lsd())&&(v.featuredSwiper=a.first)}},inputs:{params:"params",bidParams:"bidParams",biddingProductsSortOrder:"biddingProductsSortOrder"},standalone:!0,features:[c.Vt3,c.aNF],decls:2,vars:3,consts:[["swiper",""],[4,"ngLet"],[3,"config","bidding-mode","mouseenter","mouseleave",4,"ngIf"],[3,"mouseenter","mouseleave","config"],[4,"ngFor","ngForOf","ngForTrackBy"],["swiperSlide",""],[1,"w-full",3,"product"]],template:function(h,v){1&h&&(c.DNE(0,H,2,1,"ng-container",1),c.nI1(1,"async")),2&h&&c.Y8G("ngLet",c.bMT(1,1,v.biddingService.isBiddingMode$))},dependencies:[t.MD,t.Sq,t.bT,t.Jj,y.bv,O.vj,O.Mf,O.T0,w.t,u.V,I.v,g.Y],styles:["swiper[_ngcontent-%COMP%]{margin-left:-.75rem;margin-right:-.75rem}swiper[_ngcontent-%COMP%]     .swiper-slide{width:50%;flex-shrink:0;padding-left:.75rem;padding-right:.75rem}@media (min-width: 450px){swiper[_ngcontent-%COMP%]     .swiper-slide{width:33.3333333333%}}@media (min-width: 640px){swiper[_ngcontent-%COMP%]     .swiper-slide{width:25%}}@media (min-width: 768px){swiper[_ngcontent-%COMP%]     .swiper-slide{width:20%}}@media (min-width: 1024px){swiper[_ngcontent-%COMP%]     .swiper-slide{width:20%}}@media (min-width: 1256px){swiper[_ngcontent-%COMP%]     .swiper-slide{width:16.6666666667%}}swiper.bidding-mode[_ngcontent-%COMP%]{margin-left:-.75rem;margin-right:-.75rem}@media (min-width: 768px){swiper.bidding-mode[_ngcontent-%COMP%]{margin-left:-1.25rem;margin-right:-1.25rem}}swiper.bidding-mode[_ngcontent-%COMP%]     .swiper-slide{flex-shrink:0;padding:1.25rem .75rem .125rem}@media (min-width: 768px){swiper.bidding-mode[_ngcontent-%COMP%]     .swiper-slide{padding-left:1.25rem;padding-right:1.25rem}}"],changeDetection:0}),F})()},6550:(U,B,i)=>{i.d(B,{e:()=>v});var _=i(5643),t=i(4438),y=i(177),e=i(5933),D=i(46),O=i(467),w=i(6977),x=i(1661),u=i(9455);const g=a=>[a],E=a=>({activated:a});function L(a,P){if(1&a&&(t.j41(0,"div",7),t.EFF(1),t.k0s()),2&a){const p=t.XpG();t.R7$(),t.SpI(" ",p.currentLang.text," ")}}function A(a,P){1&a&&t.nrm(0,"ion-icon",8)}function N(a,P){if(1&a&&(t.j41(0,"ion-content"),t.eu8(1,9),t.k0s()),2&a){t.XpG();const p=t.sdS(9);t.R7$(),t.Y8G("ngTemplateOutlet",p)}}function H(a,P){if(1&a&&t.eu8(0,9),2&a){t.XpG();const p=t.sdS(9);t.Y8G("ngTemplateOutlet",p)}}function $(a,P){if(1&a){const p=t.RV6();t.j41(0,"ion-item",13),t.bIt("click",function(){const f=t.eBV(p).$implicit,b=t.XpG(2);return t.Njj(b.setLanguage(f))}),t.nrm(1,"img",14),t.j41(2,"ion-label",15),t.EFF(3),t.k0s()()}if(2&a){const p=P.$implicit,m=t.XpG(2);t.Y8G("ngClass",t.eq3(3,E,m.currentLang.code===p.code)),t.R7$(),t.Y8G("src",p.icon,t.B4B),t.R7$(2),t.SpI(" ",p.text," ")}}function M(a,P){if(1&a){const p=t.RV6();t.j41(0,"ion-item",13),t.bIt("click",function(){t.eBV(p);const f=t.XpG(2);return t.Njj(f.setLanguage(f.langDebug,!1))}),t.j41(1,"div",16),t.nrm(2,"img",17),t.k0s(),t.j41(3,"ion-label",15),t.EFF(4),t.k0s()()}if(2&a){const p=t.XpG(2);t.Y8G("ngClass",t.eq3(3,E,p.currentLang.code===p.langDebug.code)),t.R7$(2),t.Y8G("src",p.langDebug.icon,t.B4B),t.R7$(2),t.SpI(" ",p.langDebug.text," ")}}function F(a,P){if(1&a&&(t.j41(0,"ion-list",10),t.DNE(1,$,4,5,"ion-item",11)(2,M,5,5,"ion-item",12),t.k0s()),2&a){const p=t.XpG();t.R7$(),t.Y8G("ngForOf",p.languages),t.R7$(),t.Y8G("ngIf",p.showHiddenOption)}}let k=(()=>{var a;class P extends _.${constructor(m,f,b){super(),this.activatedRoute=m,this.translateService=f,this.storage=b,this.showText=!1,this.showIcon=!1,this.interface="popover",this.isModalOpen=!1,this.isPopoverOpen=!1,this.languages=[{icon:"assets/images/English.svg",text:"English",code:"en"},{icon:"assets/images/china.svg",text:"\u7b80\u4f53\u4e2d\u6587",code:"cn"},{icon:"assets/images/china-tradition.svg",text:"\u7e41\u9ad4\u4e2d\u6587",code:"tr"}],this.langDebug={icon:"assets/images/brackets.png",text:"Show Translation Keys",code:"langDebug"},this.currentLang=this.languages[0],this.showHiddenOption=!1}ngOnInit(){const m=this.translateService.currentLang;this.currentLang=m===this.langDebug.code?this.langDebug:this.languages.find(f=>f.code===m)||this.languages[0],this.translateService.onLangChange.pipe((0,w.Q)(this.onDestroy$)).subscribe(f=>{}),this.activatedRoute.queryParams.pipe((0,w.Q)(this.onDestroy$)).subscribe(f=>{if(f.lang){const b=this.languages.find(j=>j.code===f.lang)||this.languages[0];this.setLanguage(b)}})}setLanguage(m,f=!0){var b=this;return(0,O.A)(function*(){b.currentLang=m,b.translateService.use(m.code),new Date((new Date).setFullYear((new Date).getFullYear()+1)),f&&(yield b.storage.set("app_lang",m.code)),b.isPopoverOpen=!1,b.isModalOpen=!1})()}handleTriger(m){"popover"===this.interface?(this.popover.event=m,this.isPopoverOpen=!0):this.isModalOpen=!0}onShift(m){16==m.keyCode&&(this.showHiddenOption=!0)}onShiftRelease(m){16==m.keyCode&&(this.showHiddenOption=!1)}}return(a=P).\u0275fac=function(m){return new(m||a)(t.rXU(D.nX),t.rXU(x.c$),t.rXU(u.n))},a.\u0275cmp=t.VBU({type:a,selectors:[["app-language-dropdown"]],viewQuery:function(m,f){if(1&m&&t.GBs(e.CF,5),2&m){let b;t.mGM(b=t.lsd())&&(f.popover=b.first)}},hostBindings:function(m,f){1&m&&t.bIt("keydown",function(j){return f.onShift(j)},!1,t.tSv)("keyup",function(j){return f.onShiftRelease(j)},!1,t.tSv)},inputs:{showText:"showText",showIcon:"showIcon",interface:"interface"},features:[t.Vt3],decls:10,vars:9,consts:[["languageList",""],[1,"flex","justify-center","items-center","py-1.5","px-2","rounded-full",3,"click"],[1,"h-5","ml-1",3,"ngClass","src"],["class","ml-2 text-text-strong language-dropdown-text",4,"ngIf"],["class","ml-1","name","chevron-down-outline",4,"ngIf"],["side","bottom","alignment","center",3,"didDismiss","isOpen","keepContentsMounted"],[1,"theme-modal",3,"didDismiss","isOpen"],[1,"ml-2","text-text-strong","language-dropdown-text"],["name","chevron-down-outline",1,"ml-1"],[3,"ngTemplateOutlet"],["lines","full",1,"py-2"],["class","cursor-pointer","lines","none",3,"ngClass","click",4,"ngFor","ngForOf"],["class","cursor-pointer","lines","none",3,"ngClass","click",4,"ngIf"],["lines","none",1,"cursor-pointer",3,"click","ngClass"],[1,"mr-2","h-8",3,"src"],[1,"text-text-strong","my-4"],[1,"flex","justify-center","items-center","w-11","mr-2"],[1,"h-8","brackets",3,"src"]],template:function(m,f){if(1&m){const b=t.RV6();t.j41(0,"button",1),t.bIt("click",function(Y){return t.eBV(b),t.Njj(f.handleTriger(Y))}),t.nrm(1,"img",2),t.DNE(2,L,2,1,"div",3)(3,A,1,0,"ion-icon",4),t.k0s(),t.j41(4,"ion-popover",5),t.bIt("didDismiss",function(){return t.eBV(b),t.Njj(f.isPopoverOpen=!1)}),t.DNE(5,N,2,1,"ng-template"),t.k0s(),t.j41(6,"ion-modal",6),t.bIt("didDismiss",function(){return t.eBV(b),t.Njj(f.isModalOpen=!1)}),t.DNE(7,H,1,1,"ng-template"),t.k0s(),t.DNE(8,F,3,2,"ng-template",null,0,t.C5r)}2&m&&(t.R7$(),t.Y8G("ngClass",t.eq3(7,g,f.currentLang.code===f.langDebug.code?"brackets":""))("src",f.currentLang.icon,t.B4B),t.R7$(),t.Y8G("ngIf",f.showText),t.R7$(),t.Y8G("ngIf",f.showIcon),t.R7$(),t.Y8G("isOpen",f.isPopoverOpen)("keepContentsMounted",!0),t.R7$(2),t.Y8G("isOpen",f.isModalOpen))},dependencies:[y.YU,y.Sq,y.bT,y.T3,e.W9,e.iq,e.uz,e.he,e.nf,e.Sb,e.CF],styles:["ion-popover[_ngcontent-%COMP%]{--backdrop-opacity: 0;--max-width: 300px}ion-item[_ngcontent-%COMP%]{--color: var(--text-strong);font-size:20px}ion-item.activated[_ngcontent-%COMP%]{--background: var(--main-blue-transparent);--color: var(--main-blue)}ion-modal[_ngcontent-%COMP%]{--width: 320px;--height: auto}  .dark-mode .brackets,   app-header .brackets{filter:brightness(0) invert(1)}button[_ngcontent-%COMP%]:hover{background-color:rgba(var(--main-blue-rgb),.1)}"]}),P})();function h(a,P){if(1&a&&(t.j41(0,"a",7),t.nrm(1,"img",8),t.EFF(2),t.k0s()),2&a){const p=P.$implicit;t.Y8G("routerLink",p.url),t.R7$(),t.Y8G("src",p.icon,t.B4B),t.R7$(),t.SpI(" ",p.text," ")}}let v=(()=>{var a;class P extends _.${constructor(){super(),this.userNav=[{text:"My Prizes",url:"/",icon:"https://www.tyqoon.cn/assets/images/present 250px-min.png"},{text:"Dashboard",url:"/",icon:"https://www.tyqoon.cn/assets/images/Invite Icon 250px-min.png"},{text:"My Bidding",url:"/",icon:"https://www.tyqoon.cn/assets/images/ticket.png"},{text:"Subscription",url:"/",icon:"https://www.tyqoon.cn/assets/images/TQC-discount-points.png"},{text:"My Vault",url:"/",icon:"https://www.tyqoon.cn/assets/images/cny-inverted.png"},{text:"My Order",url:"/",icon:"https://www.tyqoon.cn/assets/images/tyqoon-options.png"}]}ngOnInit(){}}return(a=P).\u0275fac=function(m){return new(m||a)},a.\u0275cmp=t.VBU({type:a,selectors:[["app-user-menu"]],features:[t.Vt3],decls:9,vars:5,consts:[[1,"h-full","flex","flex-col","text-xl","justify-between","px-2","text-strong","font-bold"],["class","h-12 w-full flex items-center",3,"routerLink",4,"ngFor","ngForOf"],[1,"border-b","border-main-border"],[1,"h-12"],["interface","modal",3,"showText"],["routerLink","/",1,"h-12","w-full","flex","items-center"],["src","https://www.tyqoon.cn/assets/images/TYD-small.png","alt","",1,"w-9","mr-3"],[1,"h-12","w-full","flex","items-center",3,"routerLink"],["alt","",1,"w-9","mr-3",3,"src"]],template:function(m,f){1&m&&(t.j41(0,"div",0),t.DNE(1,h,3,3,"a",1),t.nrm(2,"div",2),t.j41(3,"div",3),t.nrm(4,"app-language-dropdown",4),t.k0s(),t.j41(5,"a",5),t.nrm(6,"img",6),t.EFF(7),t.nI1(8,"translate"),t.k0s()()),2&m&&(t.R7$(),t.Y8G("ngForOf",f.userNav),t.R7$(3),t.Y8G("showText",!0),t.R7$(3),t.SpI(" ",t.bMT(8,3,"My Account")," "))},dependencies:[y.Sq,e.oY,D.Wk,k,x.D9],styles:["[_nghost-%COMP%]{height:100%;display:block}app-language-dropdown[_ngcontent-%COMP%]     button{height:3rem;padding:0}app-language-dropdown[_ngcontent-%COMP%]     button img{height:auto;margin-left:0;margin-right:.75rem;width:2.25rem}app-language-dropdown[_ngcontent-%COMP%]     button .language-dropdown-text{margin-left:0}"]}),P})()},3675:(U,B,i)=>{i.d(B,{l:()=>pe});var _=i(9969),t=i(8705),y=i(5643),e=i(4438);let D=(()=>{var n;class l{}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-logo"]],decls:15,vars:0,consts:[[1,"w-full","flex"],["src","/assets/images/wooha-guy.png","alt","",1,"w-3/12","flex-shrink-0","mr-2"],[0,"xmlns","x","http://ns.adobe.com/Extensibility/1.0/",0,"xmlns","i","http://ns.adobe.com/AdobeIllustrator/10.0/",0,"xmlns","graph","http://ns.adobe.com/Graphs/1.0/","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","id","Layer_1","x","0px","y","0px","viewBox","0 0 595.28 168.93",0,"xml","space","preserve",1,"flex-1",2,"enable-background","new 0 0 595.28 168.93"],["type","text/css"],["d","M572.17,7.72l19.57,22.79c-0.46,0.79-9.34,18.59-12.88,33.79c-4.72,16.46-8.34,34.89-9.51,50.41   c-0.25,2.92-0.22,4.19-2.07,5.89c-2.47,1.9-6.51-0.03-6.58-3.18c0.35-20.96-0.24-42.05-3.8-62.76c-1.48-8.25-4.58-21.88-7.75-27.15   C556.98,21.12,572.17,7.72,572.17,7.72z",1,"st0"],["d","M155.15,13.89c3.97-3.36,10.18-3.57,14.37-0.49c4.45,3.04,6.19,9.31,4.01,14.24   c-16.27,39.17-32.53,78.35-48.81,117.53c-1.91,4.57-6.95,7.54-11.88,7.03c-4.3-0.34-8.25-3.24-9.86-7.24   c-4.96-12.27-9.94-24.54-14.89-36.82c-0.07-0.08-0.34-0.96-0.43-0.35c-5.08,12.43-10.14,24.87-15.22,37.3   c-1.37,3.28-4.33,5.84-7.77,6.75c-5.78,1.72-12.39-1.81-14.26-7.52C35.04,106.22,19.63,68.14,4.27,30.04   c-2.06-5.26,0.34-11.76,5.34-14.4c4.68-2.71,11.12-1.6,14.63,2.52c0.95,1.06,1.66,2.32,2.18,3.64   c11.62,28.8,23.27,57.59,34.89,86.4c0.07,0.25,0.2,0.47,0.4,0.64c5.09-12.44,10.15-24.9,15.24-37.35c1.35-3.32,4.3-5.91,7.76-6.85   c4.38-1.25,9.39,0.31,12.26,3.86c1.47,1.7,2.13,3.88,2.98,5.92c4.71,11.6,9.36,23.23,14.11,34.81   c12.39-29.88,24.81-59.74,37.21-89.62C152.07,17.44,153.3,15.35,155.15,13.89z",1,"st0"],["d","M358.44,41.51c3.46-2.94,8.68-3.53,12.74-1.49c3.92,1.88,6.6,6.08,6.58,10.43c0,12.56-0.02,25.11,0.01,37.67   c12.48-0.02,24.96-0.02,37.45,0c0.05-10.37,0-20.74,0.03-31.11c-0.05-3.2,1.19-6.41,3.49-8.66c3.21-3.28,8.39-4.33,12.64-2.63   c3.51,1.35,6.27,4.48,7.15,8.14c0.45,1.64,0.32,3.34,0.33,5.02c0,28.49,0,56.97,0,85.46c0.17,2.92-0.13,5.79-1.75,8.52   c-2.81,4.56-9.03,6.57-14.04,4.68c-3.64-1.28-6.54-4.46-7.46-8.2c-0.51-2.02-0.36-4.11-0.38-6.16c0.03-10.46-0.05-20.91,0.04-31.37   c-12.49-0.2-25,0-37.5-0.1c-0.06,12.67,0,25.35-0.03,38.03c-0.08,3.08-1.49,6.08-3.74,8.17c-2.19,2.05-5.19,3.15-8.16,3.29   c-3.14-0.23-6.28-1.48-8.45-3.81c-2.16-2.23-3.31-5.34-3.26-8.44c0-32.71,0-65.41,0-98.12C354.08,47.29,355.68,43.76,358.44,41.51z   ",1,"st0"],["d","M481.2,50.6c3.95-7.7,17.01-7.91,21.07,1.72c12.82,30.41,25.68,60.8,38.48,91.21    c2.3,5.63-0.65,12.79-6.28,15.11c-5.91,2.14-12.6-0.04-15.25-5.47c-2.53-5.72-4.85-11.53-7.35-17.25    c-13.72,0.03-27.45,0-41.18,0.02c-1.94,4.61-3.88,9.21-5.83,13.81c-0.94,2.27-1.81,4.66-3.64,6.37    c-3.63,3.71-9.82,4.63-14.28,1.97c-3.77-2.5-6.16-6.68-5.84-11.06c0.05-2.08,0.92-4.01,1.74-5.88    c11.69-27.68,23.37-55.37,35.06-83.06C479.02,55.61,479.89,53,481.2,50.6z M491.2,87.29l-10.54,25.01l21.21,0.02L491.2,87.29z",1,"st0"],["points","563.93,124.92 580.79,143.44 561.36,159.74 544.48,141.01  ",1,"st0"],["d","M204,55.48c-28.39,0-51.41,23.02-51.41,51.41s23.02,51.41,51.41,51.41c28.39,0,51.41-23.02,51.41-51.41   S232.4,55.48,204,55.48z M204,134.93c-15.48,0-28.03-12.55-28.03-28.03S188.52,78.87,204,78.87c15.48,0,28.03,12.55,28.03,28.03   S219.48,134.93,204,134.93z",1,"st0"],["d","M300.72,55.48c-28.39,0-51.41,23.02-51.41,51.41s23.02,51.41,51.41,51.41c28.39,0,51.41-23.02,51.41-51.41   S329.11,55.48,300.72,55.48z M300.72,134.93c-15.48,0-28.03-12.55-28.03-28.03s12.55-28.03,28.03-28.03   c15.48,0,28.03,12.55,28.03,28.03S316.2,134.93,300.72,134.93z",1,"st0"]],template:function(o,r){1&o&&(e.j41(0,"div",0),e.nrm(1,"img",1),e.qSk(),e.j41(2,"svg",2)(3,"style",3),e.EFF(4," .st0{fill:#FFFFFF;} "),e.k0s(),e.nrm(5,"metadata"),e.j41(6,"g"),e.nrm(7,"path",4)(8,"path",5)(9,"path",6),e.j41(10,"g"),e.nrm(11,"path",7),e.k0s(),e.nrm(12,"polygon",8)(13,"path",9)(14,"path",10),e.k0s()()())},encapsulation:2}),l})();var O=i(177),w=i(5933),T=i(46),I=i(1845),c=i(6550);let G=(()=>{var n;class l extends y.${constructor(){super(),this.userNav=[{text:"My Prizes",url:"/"},{text:"Dashboard",url:"/"},{text:"My Bidding",url:"/"},{text:"Subscription",url:"/"},{text:"My Vault",url:"/"},{text:"My Order",url:"/"}]}ngOnInit(){}}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-login-button"]],features:[e.Vt3],decls:11,vars:1,consts:[[1,"wrapper","relative","group"],[1,"login-button","rounded-lg","flex","items-center","bg-panel-1","px-2","text-main-text","cursor-pointer"],[1,"w-10","h-10","border","border-main-border","rounded-full","overflow-hidden"],["src","https://images.houniao.hk/upload/goods/20210708104512354_big.jpg?x-oss-process=image/resize,m_fill,h_150,w_150","alt","",1,"w-full","h-full","object-cover"],[1,"flex-1","text-center","font-bold","text-xl"],["name","chevron-down-outline",1,"w-5","h-5","text-gray-2"],[1,"dropdown-container","hidden","absolute","left-0","md:group-hover:block","hover:block","overflow-hidden","text-sm","border","shadow-lg","bg-panel-1","w-full"],[1,"border-b","border-main-border","mt-3","mx-2"],[1,"profile-nav"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.k0s(),e.j41(4,"div",4),e.EFF(5),e.k0s(),e.nrm(6,"ion-icon",5),e.k0s(),e.j41(7,"div",6),e.nrm(8,"div",7),e.j41(9,"div",8),e.nrm(10,"app-user-menu"),e.k0s()()()),2&o&&(e.R7$(5),e.JRh("Xby1995"))},dependencies:[w.iq,c.e],styles:['.login-button[_ngcontent-%COMP%]{height:50px;border:1px solid var(--header-bg)}.wrapper[_ngcontent-%COMP%]:before{position:fixed;background-color:#00000030;height:calc(100vh + 133px);top:0;right:0;bottom:0;left:0;z-index:50;opacity:0;content:"";pointer-events:none}.wrapper[_ngcontent-%COMP%]:hover:before{opacity:100;transition-duration:.5s}.wrapper[_ngcontent-%COMP%]:hover   .login-button[_ngcontent-%COMP%]{position:relative;z-index:51}.dropdown-container[_ngcontent-%COMP%]{margin-top:-7px;border:1px solid var(--header-bg);border-top:0;border-bottom-right-radius:.5rem;border-bottom-left-radius:.5rem;z-index:51}@media (min-width: 1256px){.profile-nav[_ngcontent-%COMP%]{height:var(--dropdown-height, auto)}}']}),l})(),x=(()=>{var n;class l{constructor(){}ngOnInit(){}}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-cart-icon"]],decls:6,vars:0,consts:[["viewBox","0 0 21 21","fill","none"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.299273 1.39376C0.412029 1.16824 0.686249 1.07684 0.911761 1.18959L3.00002 2.23372C3.24594 2.35668 3.42335 2.58391 3.48299 2.85231L3.81294 4.33705H19.3801C20.2789 4.33705 20.9341 5.18819 20.7041 6.05708L18.9533 12.6713C18.9003 12.8715 18.7191 13.011 18.5119 13.011H5.74047L6.09555 14.6088H18.2837C18.5358 14.6088 18.7402 14.8132 18.7402 15.0653C18.7402 15.3174 18.5358 15.5218 18.2837 15.5218H5.72934C5.51537 15.5218 5.3301 15.3732 5.28369 15.1643L2.59169 3.05037L0.503436 2.00624C0.277924 1.89349 0.186517 1.61927 0.299273 1.39376ZM5.53758 12.0979H18.1605L19.8214 5.82343C19.8981 5.53381 19.6797 5.25009 19.3801 5.25009H4.01584L5.53758 12.0979Z","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M8.92521 17.1196C8.42095 17.1196 8.01216 17.5284 8.01216 18.0327C8.01216 18.537 8.42095 18.9457 8.92521 18.9457C9.42947 18.9457 9.83825 18.537 9.83825 18.0327C9.83825 17.5284 9.42947 17.1196 8.92521 17.1196ZM7.09912 18.0327C7.09912 17.0242 7.91669 16.2066 8.92521 16.2066C9.93373 16.2066 10.7513 17.0242 10.7513 18.0327C10.7513 19.0412 9.93373 19.8588 8.92521 19.8588C7.91669 19.8588 7.09912 19.0412 7.09912 18.0327Z","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M15.3163 17.1196C14.8121 17.1196 14.4033 17.5284 14.4033 18.0327C14.4033 18.537 14.8121 18.9457 15.3163 18.9457C15.8206 18.9457 16.2294 18.537 16.2294 18.0327C16.2294 17.5284 15.8206 17.1196 15.3163 17.1196ZM13.4902 18.0327C13.4902 17.0242 14.3078 16.2066 15.3163 16.2066C16.3248 16.2066 17.1424 17.0242 17.1424 18.0327C17.1424 19.0412 16.3248 19.8588 15.3163 19.8588C14.3078 19.8588 13.4902 19.0412 13.4902 18.0327Z","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.55566 7.53269C7.55566 7.28056 7.76006 7.07617 8.01219 7.07617H16.2296C16.4817 7.07617 16.6861 7.28056 16.6861 7.53269C16.6861 7.78482 16.4817 7.98921 16.2296 7.98921H8.01219C7.76006 7.98921 7.55566 7.78482 7.55566 7.53269Z","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M8.46875 9.81535C8.46875 9.56322 8.67314 9.35883 8.92527 9.35883H15.3166C15.5687 9.35883 15.7731 9.56322 15.7731 9.81535C15.7731 10.0675 15.5687 10.2719 15.3166 10.2719H8.92527C8.67314 10.2719 8.46875 10.0675 8.46875 9.81535Z","fill","currentColor"]],template:function(o,r){1&o&&(e.qSk(),e.j41(0,"svg",0),e.nrm(1,"path",1)(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5),e.k0s())},encapsulation:2}),l})();var u=i(1661);let g=(()=>{var n;class l extends y.${constructor(){super()}ngOnInit(){}}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-my-cart"]],features:[e.Vt3],decls:9,vars:3,consts:[[1,"desktop-cart","hidden","md:flex","w-full","px-2","justify-between","items-center","h-11","font-bold","text-black","bg-main-yellow","rounded-lg"],[1,"w-8","text-white"],[1,"text-xl"],[1,"badge-count","bg-primary-color","text-center","text-white","rounded-xl","h-8"],[1,"md:hidden","h-10","w-10","flex","items-center","justify-center","rounded-full","bg-black/30"],[1,"w-6","text-white"]],template:function(o,r){1&o&&(e.j41(0,"div",0),e.nrm(1,"app-cart-icon",1),e.j41(2,"div",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",3),e.EFF(6,"3"),e.k0s()(),e.j41(7,"div",4),e.nrm(8,"app-cart-icon",5),e.k0s()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"My Cart")))},dependencies:[x,u.D9],styles:[".badge-count[_ngcontent-%COMP%]{height:30px;line-height:30px;min-width:30px;padding-left:.25rem;padding-right:.25rem}.desktop-cart[_ngcontent-%COMP%]   app-cart-icon[_ngcontent-%COMP%]{transform:scale(1.7) translateY(-20%)}"]}),l})();var E=i(1413),L=i(6977),A=i(8141),N=i(3236),H=i(9974),$=i(4360),M=i(8750),k=i(1584);var v=i(3294),a=i(152),P=i(5312),p=i(6354),m=i(1626);const b="SEARCH_STACK";let j=(()=>{var n;class l{constructor(o){this.http=o,this.searchCache={},this.init=()=>{const r=localStorage.getItem(b);if(r)try{this.searchCache=JSON.parse(r)}catch{this.searchCache={}}else this.searchCache={}},this.getSearchCache=()=>this.searchCache,this.getSearchCacheById=r=>this.searchCache[r]||[],this.cacheKeyword=r=>{if(t.A.isServer||!r)return;let d=this.getSearchCacheById("anonymous");for(let S=0;S<d.length;S++)if(d[S]===r){d.splice(S,1);break}3===d.length&&d.pop(),d=[r,...d];const C=this.getSearchCache();C.anonymous=d,localStorage.setItem(b,JSON.stringify(C))},this.clearKeyword=r=>{let d=this.getSearchCacheById("anonymous");d=d.filter(S=>r!==S);const C=this.getSearchCache();C.anonymous=d,localStorage.setItem(b,JSON.stringify(C))},this.clearAll=()=>{const r=this.getSearchCache();r.anonymous=[],localStorage.setItem(b,JSON.stringify(r))},this.getFilteredKeyword=r=>{if(t.A.isServer)return[];let d=this.getSearchCacheById("anonymous"),C=[];for(let S=0;S<d.length&&3!==C.length;S++)d[S].indexOf(r)>-1&&C.push(d[S]);return C},t.A.isServer||this.init()}getQuerySuggestWord(o){return this.http.get(`${P.c.BASE_URL}/shop/search/querySuggestWord`,{params:{word:o}}).pipe((0,p.T)(({data:r})=>r))}}return(n=l).\u0275fac=function(o){return new(o||n)(e.KVO(m.Qq))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),l})(),Y=(()=>{var n;class l{constructor(){}ngOnInit(){}}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-search-icon"]],decls:3,vars:0,consts:[["viewBox","0 0 21 20",2,"stroke","rgb(0, 0, 0)"],["cx","9","cy","9","r","8","fill","none","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","stroke","currentColor"],["d","M18.372 18.4989C18.79 18.8599 19.4215 18.8136 19.7824 18.3956C20.1434 17.9776 20.0972 17.3462 19.6791 16.9852L18.372 18.4989ZM14.2092 14.9043L18.372 18.4989L19.6791 16.9852L15.5164 13.3906L14.2092 14.9043Z","stroke","none","fill","currentColor"]],template:function(o,r){1&o&&(e.qSk(),e.j41(0,"svg",0),e.nrm(1,"circle",1)(2,"path",2),e.k0s())},encapsulation:2}),l})(),Q=(()=>{var n;class l{constructor(){}ngOnInit(){}}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-close-icon"]],decls:2,vars:0,consts:[["version","1.1","viewBox","0 0 100 100","overflow","visible","enable-background","new 0 0 100 100"],["stroke","currentColor","stroke-width","12","stroke-linecap","square","d","M 10,10 90,90 M 10,90 90,10"]],template:function(o,r){1&o&&(e.qSk(),e.j41(0,"svg",0),e.nrm(1,"path",1),e.k0s())},encapsulation:2}),l})();var K=i(9417);const J=n=>({"full-width":n}),Z=n=>({"hidden md:!block":n});function q(n,l){if(1&n){const s=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(s);const r=e.XpG();return e.Njj(r.onClickClear())}),e.nrm(1,"app-close-icon",10),e.k0s()}}function ee(n,l){}function te(n,l){if(1&n){const s=e.RV6();e.j41(0,"a",14),e.bIt("mousedown",function(r){const d=e.eBV(s).$implicit,C=e.XpG(2);return e.Njj(C.handleWordClick(r,d))}),e.EFF(1),e.k0s()}if(2&n){const s=l.$implicit;e.R7$(),e.SpI(" ",s," ")}}function ne(n,l){if(1&n&&(e.j41(0,"div",11),e.DNE(1,ee,0,0,"ng-template",12)(2,te,2,1,"a",13),e.k0s()),2&n){const s=e.XpG(),o=e.sdS(10);e.Y8G("ngClass",e.eq3(3,Z,s.isClose)),e.R7$(),e.Y8G("ngTemplateOutlet",o),e.R7$(),e.Y8G("ngForOf",s.suggestionWords)}}function oe(n,l){if(1&n){const s=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"div",20),e.bIt("mousedown",function(r){const d=e.eBV(s).$implicit,C=e.XpG(3);return e.Njj(C.handleWordClick(r,d))}),e.EFF(3),e.k0s()(),e.j41(4,"div",21),e.bIt("mousedown",function(r){const d=e.eBV(s).$implicit,C=e.XpG(3);return e.Njj(C.clearKeyword(r,d))}),e.EFF(5," \u2715 "),e.k0s()()}if(2&n){const s=l.$implicit;e.R7$(3),e.SpI(" ",s," ")}}function re(n,l){1&n&&e.nrm(0,"div",22)}function ie(n,l){if(1&n&&(e.qex(0),e.DNE(1,oe,6,1,"div",16)(2,re,1,0,"div",17),e.bVm()),2&n){const s=e.XpG(2);e.R7$(),e.Y8G("ngForOf",s.recentSearchs),e.R7$(),e.Y8G("ngIf",null==s.suggestionWords?null:s.suggestionWords.length)}}function se(n,l){if(1&n&&e.DNE(0,ie,3,2,"ng-container",15),2&n){const s=e.XpG();e.Y8G("ngIf",null==s.recentSearchs?null:s.recentSearchs.length)}}let ae=(()=>{var n;class l{constructor(o,r,d,C){this.router=o,this.route=r,this.searchService=d,this.cdr=C,this.isClose=!0,this.forceFullWidthSearch=!1,this.isCloseChange=new e.bkB,this.searchValue="",this.searchValueChange=new E.B,this.suggestionWords=new Array,this.isDropdownShowable=!0,this.isSuggestionShowable=!1,this.recentSearchs=[],this._unsubscribeAll=new E.B,this.recentSearchs=this.searchService.getFilteredKeyword("")}handleSearchIconClick(o){console.log(787878),o.preventDefault(),o.stopPropagation(),this.isClose&&(this.isCloseChange.emit(!1),this.searchInput.setFocus())}ngOnInit(){this.forceFullWidthSearch&&this.isCloseChange.emit(!1),this.route.queryParams.pipe((0,L.Q)(this._unsubscribeAll)).subscribe(o=>{this.searchValue=o.name||"",this.isSuggestionShowable=!1}),this.searchValueChange.pipe((0,A.M)(()=>{this.isSuggestionShowable=!0}),function h(n,l=N.E,s){const o=(0,k.O)(n,l);return function F(n,l){return(0,H.N)((s,o)=>{const{leading:r=!0,trailing:d=!1}=null!=l?l:{};let C=!1,S=null,R=null,W=!1;const he=()=>{null==R||R.unsubscribe(),R=null,d&&(z(),W&&o.complete())},ge=()=>{R=null,W&&o.complete()},X=V=>R=(0,M.Tg)(n(V)).subscribe((0,$._)(o,he,ge)),z=()=>{if(C){C=!1;const V=S;S=null,o.next(V),!W&&X(V)}};s.subscribe((0,$._)(o,V=>{C=!0,S=V,(!R||R.closed)&&(r?z():X(V))},()=>{W=!0,(!(d&&C&&R)||R.closed)&&o.complete()}))})}(()=>o,s)}(200),(0,v.F)(),(0,L.Q)(this._unsubscribeAll)).subscribe(o=>{this.getSuggestion(o)}),this.searchValueChange.pipe((0,a.B)(300),(0,v.F)(),(0,L.Q)(this._unsubscribeAll)).subscribe(o=>{this.getSuggestion(o)})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onClickClear(){this.searchValue="",this.suggestionWords=[],this.searchInput.setFocus(),this.onSearch("")}onSearch(o){this.isSuggestionShowable=!1,this.searchService.cacheKeyword(o),this.router.navigate(["/product","search"],{queryParams:{categoryId:void 0,name:o||void 0},queryParamsHandling:this.router.isActive("/product/search",{paths:"exact",queryParams:"ignored",fragment:"ignored",matrixParams:"ignored"})?"merge":void 0})}onBlurSearchInput(){setTimeout(()=>{this.isSuggestionShowable=!1},0)}clearKeyword(o,r){o.preventDefault(),o.stopPropagation(),this.searchService.clearKeyword(r),this.recentSearchs=this.searchService.getFilteredKeyword("")}onClickSuggestionWord(o){this.searchValue=o,this.onSearch(o)}handleBlur(){console.log(112233),!this.searchValue&&!this.forceFullWidthSearch&&this.isCloseChange.emit(!0),setTimeout(()=>{this.isSuggestionShowable=!1,this.cdr.markForCheck()},0)}getSuggestion(o){this.recentSearchs=this.searchService.getFilteredKeyword(""),o?this.searchService.getQuerySuggestWord(o).pipe((0,L.Q)(this._unsubscribeAll)).subscribe(r=>{this.suggestionWords=r}):this.suggestionWords=[]}handleFocus(){this.getSuggestion(this.searchValue),this.isSuggestionShowable=!0}handleInputClick(){this.recentSearchs=this.searchService.getFilteredKeyword(""),this.isSuggestionShowable=!0}handleWordClick(o,r){o.preventDefault(),o.stopPropagation(),this.onSearch(r)}}return(n=l).\u0275fac=function(o){return new(o||n)(e.rXU(T.Ix),e.rXU(T.nX),e.rXU(j),e.rXU(e.gRc))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-search-input"]],viewQuery:function(o,r){if(1&o&&e.GBs(w.$w,5),2&o){let d;e.mGM(d=e.lsd())&&(r.searchInput=d.first)}},inputs:{isClose:"isClose",forceFullWidthSearch:"forceFullWidthSearch"},outputs:{isCloseChange:"isCloseChange"},decls:11,vars:9,consts:[["recentSearch",""],[1,"search-wrapper","flex","w-auto","md:flex-1","md:pl-3","justify-center","items-center","md:bg-panel-1","bg-black/30","px-1","rounded-full","md:rounded-md","relative",3,"ngClass"],[1,"flex-1","text-white","md:text-strong",3,"ngModelChange","keydown.enter","ionFocus","click","ionBlur","ngModel","placeholder"],["class","clear-btn w-5 h-5 p-1 rounded-full mr-2 flex-shrink-0 bg-gray-3 cursor-pointer z-10",3,"click",4,"ngIf"],[1,"search-btn","hidden","md:flex","w-8","h-8","items-center","justify-center","rounded-md",3,"click"],[1,"block","w-5","text-white"],[1,"btn-search-mobile","w-11","flex-shrink-0","h-10","items-center","justify-center","flex","md:hidden",3,"mousedown"],[1,"block","w-7","text-white"],["class","absolute bg-panel-1 top-full -mt-2 pt-2 left-0 right-0 w-full px-4 rounded-b-lg border border-t-0 border-slate-300 border-opacity-70 shadow-lg",3,"ngClass",4,"ngIf"],[1,"clear-btn","w-5","h-5","p-1","rounded-full","mr-2","flex-shrink-0","bg-gray-3","cursor-pointer","z-10",3,"click"],[1,"block"],[1,"absolute","bg-panel-1","top-full","-mt-2","pt-2","left-0","right-0","w-full","px-4","rounded-b-lg","border","border-t-0","border-slate-300","border-opacity-70","shadow-lg",3,"ngClass"],[3,"ngTemplateOutlet"],["class","text-gray-600 text-sm cursor-pointer break-all line-clamp-1 leading-10 h-10 hover:text-primary",3,"mousedown",4,"ngFor","ngForOf"],[1,"text-gray-600","text-sm","cursor-pointer","break-all","line-clamp-1","leading-10","h-10","hover:text-primary",3,"mousedown"],[4,"ngIf"],["class","flex items-center leading-9 h-9",4,"ngFor","ngForOf"],["class","border-b border-[#dddddd]",4,"ngIf"],[1,"flex","items-center","leading-9","h-9"],[1,"flex-1","h-full","relative","cursor-pointer"],[1,"text-black","hover:text-primary","font-medium","absolute","inset-0","w-full","h-full","leading-9","truncate","text-sm",3,"mousedown"],[1,"ml-2","text-sm","cursor-pointer","p-2",3,"mousedown"],[1,"border-b","border-[#dddddd]"]],template:function(o,r){if(1&o){const d=e.RV6();e.j41(0,"div",1)(1,"ion-input",2),e.nI1(2,"translate"),e.mxI("ngModelChange",function(S){return e.eBV(d),e.DH7(r.searchValue,S)||(r.searchValue=S),e.Njj(S)}),e.bIt("ngModelChange",function(S){return e.eBV(d),e.Njj(r.searchValueChange.next(S))})("keydown.enter",function(){return e.eBV(d),e.Njj(r.onSearch(r.searchValue))})("ionFocus",function(){return e.eBV(d),e.Njj(r.handleFocus())})("click",function(){return e.eBV(d),e.Njj(r.handleInputClick())})("ionBlur",function(){return e.eBV(d),e.Njj(r.handleBlur())}),e.k0s(),e.DNE(3,q,2,0,"button",3),e.j41(4,"button",4),e.bIt("click",function(){return e.eBV(d),e.Njj(r.onSearch(r.searchValue))}),e.nrm(5,"app-search-icon",5),e.k0s(),e.j41(6,"button",6),e.bIt("mousedown",function(S){return e.eBV(d),e.Njj(r.handleSearchIconClick(S))}),e.nrm(7,"app-search-icon",7),e.k0s(),e.DNE(8,ne,3,5,"div",8),e.k0s(),e.DNE(9,se,1,1,"ng-template",null,0,e.C5r)}2&o&&(e.Y8G("ngClass",e.eq3(7,J,!r.isClose)),e.R7$(),e.R50("ngModel",r.searchValue),e.Y8G("placeholder",e.bMT(2,5,"header-search-placeholder")),e.R7$(2),e.Y8G("ngIf",r.searchValue&&!r.isClose),e.R7$(5),e.Y8G("ngIf",((null==r.recentSearchs?null:r.recentSearchs.length)||(null==r.suggestionWords?null:r.suggestionWords.length))&&r.isSuggestionShowable))},dependencies:[Y,Q,O.YU,O.Sq,O.bT,O.T3,w.$w,w.Gw,K.BC,K.vS,u.D9],styles:["ion-input[_ngcontent-%COMP%]{--highlight-color-focused: red;min-height:40px}.search-wrapper[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem}@media (min-width: 768px){.search-wrapper[_ngcontent-%COMP%]{height:auto}}.search-wrapper[_ngcontent-%COMP%]{transition:width .5s ease,padding-left .2s ease}.search-wrapper.full-width[_ngcontent-%COMP%]{padding-left:12px!important;width:var(--search-container-width)}@media (min-width: 768px){.search-btn[_ngcontent-%COMP%]{background-color:var(--header-bg)}}"]}),l})();const ce=["searchContainer"];function le(n,l){if(1&n&&(e.j41(0,"a",22),e.EFF(1),e.k0s()),2&n){const s=l.$implicit;e.Y8G("routerLink",s.href),e.R7$(),e.JRh(s.text)}}function de(n,l){if(1&n&&(e.j41(0,"a",22),e.EFF(1),e.k0s()),2&n){const s=l.$implicit;e.Y8G("routerLink",s.href),e.R7$(),e.JRh(s.text)}}function ue(n,l){if(1&n&&(e.j41(0,"a",23),e.EFF(1),e.k0s()),2&n){const s=l.$implicit;e.Y8G("routerLink",s.href),e.R7$(),e.JRh(s.text)}}let pe=(()=>{var n;class l extends y.${constructor(){super(),this.leftMenu=[{href:"left",text:"Menu"},{href:"left",text:"Menu"},{href:"left",text:"Menu"}],this.rightMenu=[{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"}],this.bottomMenu=[{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"},{href:"/",text:"Menu"}],this.isCloseSearch=!0,this.searchContainerWidth=0}ngAfterViewInit(){this.onResize()}onResize(){t.A.isBrowser&&setTimeout(()=>{this.searchContainerWidth=this.searchContainer.nativeElement.clientWidth},100)}}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-header"]],viewQuery:function(o,r){if(1&o&&e.GBs(ce,5),2&o){let d;e.mGM(d=e.lsd())&&(r.searchContainer=d.first)}},hostBindings:function(o,r){1&o&&e.bIt("resize",function(){return r.onResize()},!1,e.tSv)},features:[e.Vt3],decls:24,vars:7,consts:[["searchContainer",""],[1,"top-header","relative","shadow-lg"],[1,"bg-black/40","hidden","md:block"],[1,"page-container","flex","justify-between"],[1,"flex","gap-x-2"],["class","px-2 py-2",3,"routerLink",4,"ngFor","ngForOf"],[1,"flex"],[1,"pt-2","pb-2","md:pt-2","md:pb-1"],[1,"page-container","flex","items-center","gap-x-2"],[1,"flex","flex-1","items-center","justify-between","md:gap-x-4"],["routerLink","/",1,"contents"],[1,"block","w-36","md:w-52","xl:w-72"],[1,"flex-1","flex","justify-end",3,"isCloseChange","isClose"],[1,"hidden","md:block"],[1,"w-auto","md:w-56","xl:w-2/12","xl:ml-2"],[1,"xl:-mx-2"],[1,"w-full"],[1,"page-container","gap-x-2","hidden","md:flex"],[1,"bottom-nav","flex-1","flex","items-end"],["class","px-4 leading-8",3,"routerLink",4,"ngFor","ngForOf"],[1,"w-56","xl:w-2/12"],[1,"mb-0.5","block"],[1,"px-2","py-2",3,"routerLink"],[1,"px-4","leading-8",3,"routerLink"]],template:function(o,r){if(1&o){const d=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"nav",3)(3,"div",4),e.DNE(4,le,2,2,"a",5),e.k0s(),e.j41(5,"div",6),e.DNE(6,de,2,2,"a",5),e.k0s()()(),e.j41(7,"div",7)(8,"div",8)(9,"div",9,0)(11,"div")(12,"a",10),e.nrm(13,"app-logo",11),e.k0s()(),e.j41(14,"app-search-input",12),e.mxI("isCloseChange",function(S){return e.eBV(d),e.DH7(r.isCloseSearch,S)||(r.isCloseSearch=S),e.Njj(S)}),e.k0s()(),e.nrm(15,"app-theme-toggle",13),e.j41(16,"div",14)(17,"div",15),e.nrm(18,"app-my-cart",16),e.k0s()()(),e.j41(19,"div",17)(20,"nav",18),e.DNE(21,ue,2,2,"a",19),e.k0s(),e.j41(22,"div",20),e.nrm(23,"app-login-button",21),e.k0s()()()()}2&o&&(e.R7$(4),e.Y8G("ngForOf",r.leftMenu),e.R7$(2),e.Y8G("ngForOf",r.rightMenu),e.R7$(5),e.Y8G("@slideHide",r.isCloseSearch?"show":"hide"),e.R7$(3),e.xc7("--search-container-width",r.searchContainerWidth,"px"),e.R50("isClose",r.isCloseSearch),e.R7$(7),e.Y8G("ngForOf",r.bottomMenu))},dependencies:[D,O.Sq,w.oY,T.Wk,I.U,G,g,ae],styles:['[_nghost-%COMP%]{display:block;position:sticky;top:0;transition:transform .3s;z-index:10}.hide-header[_nghost-%COMP%]{transform:translateY(-100%)}.top-header[_ngcontent-%COMP%]{color:#fff;background-color:var(--header-bg)}.bottom-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative}.bottom-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:last-child):after{background:#fff;content:"";height:20px;position:absolute;right:-1px;top:50%;transform:translateY(-50%);width:1px;opacity:.7}'],data:{animation:[(0,_.hZ)("slideHide",[(0,_.wk)("hide",(0,_.iF)({width:"0px",display:"none"})),(0,_.wk)("show",(0,_.iF)({width:"auto",display:"block"})),(0,_.kY)("show => hide",[(0,_.iF)({width:"0px"}),(0,_.i0)("0.2s ease",(0,_.iF)({transform:"translateX(-150px)"}))]),(0,_.kY)("hide => show",[(0,_.iF)({width:"0px",display:"block",transform:"translateX(-150px)"}),(0,_.i0)("0.7s ease",(0,_.iF)({transform:"translateX(0)"}))])])]}}),l})()},6429:(U,B,i)=>{i.d(B,{$:()=>y});var _=i(467),t=i(4438);let y=(()=>{var e;class D{constructor(w){this.el=w,this.lastScrollTop=0}ngAfterViewInit(){var w=this;return(0,_.A)(function*(){w.hideHeader.ionScroll.subscribe(T=>{const I=T.detail.scrollTop;I>=50&&w.lastScrollTop<I?w.el.nativeElement.classList.add("hide-header"):w.el.nativeElement.classList.remove("hide-header"),w.lastScrollTop=I,0==I?w.el.nativeElement.classList.remove("has-shadow"):w.el.nativeElement.classList.add("has-shadow")})})()}}return(e=D).\u0275fac=function(w){return new(w||e)(t.rXU(t.aKT))},e.\u0275dir=t.FsC({type:e,selectors:[["","hideHeader",""]],inputs:{hideHeader:"hideHeader"}}),D})()},9176:(U,B,i)=>{i.d(B,{g:()=>T});var _=i(2747),t=i(853),y=i(7673),e=i(6354),D=i(5312),O=i(4438),w=i(1626);let T=(()=>{var I;class c{constructor(x){this.http=x,this.productsQueryStorage={}}getSubCategories(x){return(0,y.of)(_.xq).pipe((0,e.T)(u=>{var g,E;return null!==(g=null==u||null===(E=u.data)||void 0===E?void 0:E.rows)&&void 0!==g?g:[]}))}getProductsByMetaParamsV2(x){const u=JSON.stringify(x);return this.productsQueryStorage[u]?(0,y.of)(this.productsQueryStorage[u]):this.http.get(`${D.c.BASE_URL}/shop/product/queryESV2`,{params:{...x}}).pipe((0,e.T)(({data:g})=>{const E=[_.Gd,...(null==g?void 0:g.rows)||[],...(null==g?void 0:g.rows)||[]];return this.productsQueryStorage[u]={...g,rows:E.map(L=>({...L,productImages:(0,t.y)(L.productImages)})),total:E.length?g.total:0},this.productsQueryStorage[u]}))}getProductById(x){return x==_.Gd.id?(0,y.of)(JSON.parse(JSON.stringify(_.R9))).pipe((0,e.T)(({data:u})=>{var g;return{...null==u?void 0:u.rows[0],productImages:(0,t.y)((null==u||null===(g=u.rows[0])||void 0===g?void 0:g.productImages)||"[]")}})):this.http.get(`${D.c.BASE_URL}/shop/product/queryDetailV2`,{params:{rows:1,page:0,productId:x}}).pipe((0,e.T)(({data:u})=>{var g;return{...null==u?void 0:u.rows[0],productImages:(0,t.y)((null==u||null===(g=u.rows[0])||void 0===g?void 0:g.productImages)||"[]")}}))}getSkusByProductId(x){return x==_.Gd.id?(0,y.of)(JSON.parse(JSON.stringify(_.NQ))).pipe((0,e.T)(({data:u})=>u.map(g=>({...g,specifications:JSON.parse(g.specificationValues||"[]")})))):this.http.get(`${D.c.BASE_URL}/shop/product/querySkuByProductId`,{params:{productId:x}}).pipe((0,e.T)(({data:u})=>u.map(g=>({...g,specifications:JSON.parse(g.specificationValues||"[]")}))))}getSkuById(x){return this.http.get(`${D.c.BASE_URL}/shop/product/querySkuById`,{params:{skuId:x.join(",")}}).pipe((0,e.T)(({data:u})=>u.map(g=>({...g,specifications:JSON.parse(g.specificationValues||"[]")}))))}getBrandById(x){return x==_.Gd.brandId?(0,y.of)(_.Fg).pipe((0,e.T)(u=>u.data)):this.http.get(`${D.c.BASE_URL}/shop/brand/queryById`,{params:{id:x}}).pipe((0,e.T)(u=>u.data))}}return(I=c).\u0275fac=function(x){return new(x||I)(O.KVO(w.Qq))},I.\u0275prov=O.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),c})()},3207:(U,B,i)=>{i.d(B,{s:()=>t});var _=i(9350);function t(y,e){const D="object"==typeof e;return new Promise((O,w)=>{let I,T=!1;y.subscribe({next:c=>{I=c,T=!0},error:w,complete:()=>{T?O(I):D?O(e.defaultValue):w(new _.G)}})})}}}]);